
<!DOCTYPE html>
<html lang="en-gb" dir="ltr">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <title>Fission</title>
    <link rel="stylesheet" href="css/tab.css">
    <link rel="stylesheet" href="css/rotate.css">
    <link rel="stylesheet" href="css/liquidFillGuage.css">
    <link rel="stylesheet" href="css/popup.css">
    <link rel="stylesheet" href="css/external/jquery.json-viewer.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />
    <link href="css/template.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/opensans.css">

    <script type="text/javascript" src="js/external/jquery.min-3.3.1.js"></script>
    <script type="text/javascript" src="js/external/jquery.json-viewer.js"></script>

    <!-- general scripts -->
    <script type="text/javascript" src="js/server-info.js"></script>
    <script type="text/javascript" src="js/fission-request.js"></script>
    <script type="text/javascript" src="js/authorization.js"></script>
    <script type="text/javascript" src="js/tab.js"></script>
    <script type="text/javascript" src="js/div-drag.js"></script>
    <script type="text/javascript" src="js/ui.js"></script>
    <script type="text/javascript" src="js/util.js"></script>
    <script type="text/javascript" src="js/popup.js"></script>

    <!-- add content page scripts -->
    <script type="text/javascript" src="js/content/data-management.js"></script>
    <script type="text/javascript" src="js/content/progress.js"></script>
    <script type="text/javascript" src="js/content/login.js"></script>
    <script type="text/javascript" src="js/content/submission.js"></script>

    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script src="https://d3js.org/d3.v5.min.js" language="JavaScript"></script>
    <script src="js/liquidFillGauge.js" language="JavaScript"></script>
    <!-- mpx Loom Console -->
    <script type="text/javascript" src="js/loomConsole/console.js"></script>
</head>
<body>
<!-- Body -->
<div class="body" id="top">
    <!-- Header -->
    <div class="row-fluid">
        <div id="topstuff" class="span2">
            <div class="header"><a href="/"><img src="images/fission_logo.png" alt="fission"/></a></div>
            <div class="well _menu">
                <h3 class="topic-header">MENU</h3>
                <ul class="nav">
                    <li class="nav-header"><a onClick=" +loadRequestInterface('welcome');">Welcome</a></li>
                    <li class="nav-header"><a onClick=" +loadRequestInterface('progress');">Progress</a></li>
                    <li class="nav-header"><a onClick=" +loadRequestInterface('submission');">Submission</a></li>
                    <li class="nav-header"><a onClick=" +loadRequestInterface('data');">Data Management</a></li>
                </ul>
            </div>
            <div id="html-login" class="well ">
                <div class="userdata">
                    <script>
                        $(function(){
                            $("#html-login").load("content/login.html");
                        });
                    </script>
                </div>
            </div>
        </div>
        <!-- End Right Sidebar -->
        <div id="content" class="span9">
            <!-- Begin Content -->
            <div id="theContent"></div>
                <!-- End Content -->
            </div>
        </div>
    <!-- temp for easy testing of popup -->
   <!--     <input type="submit" value="Open Popup" name="popup_open_button" onclick="showPopupWithHtml(event, 'This is a test string!', true);" class="btn btn-primary submit-button"/>
  -->  </div>
</div>

<!-- Popup  (2 divs, one for background, one for foreground) -->
<div id="popup_background">
</div>
<div id="popup_window" >
    &lt;!&ndash; note: the id popup_windowheader is a special name for having a draggable part &ndash;&gt;
    <div id="popup_windowheader">Title Bar (to drag/move)</div>
    <div id="popup_content_container">
        <div id="popup_content">
            Hi there!
        </div>
        &lt;!&ndash; TODO: align to the bottom middle probably so it's consistent location wise &ndash;&gt;
        <div id="popup_close_button_container">
            <input type="submit" value="Close" name="popup_close_button" onclick="showPopup(event, false);" class="btn btn-primary submit-button"/>
        </div>
    </div>
</div>

<button class="primary" onclick="handleGetContext()">GET CONTEXT</button>
<script>
    dragElement(document.getElementById("popup_window"));
</script>
<script type="text/javascript">
    let consoleJs = new ConsoleJS();

    function handleGetContext() {
        log("");
        consoleJs
                .getContext()
                .then(e => log(e))
    .catch(e => log(e));
    }

    function handleKeepAlive() {
        log("");
        consoleJs
                .keepAlive()
                .then(e => log(e))
    .catch(e => log(e));
    }

    function log(data) {
        document.getElementById("response").innerHTML = JSON.stringify(
                data,
                null,
                2
        );
    }
</script>
<script>
    function loadRequestInterface(menuitem){
        $(function() {
            if (menuitem == "data")
            {
                $("#theContent").load("content/data-management.html");
            }
            else if(menuitem == "progress")
            {
                $("#theContent").load("content/progress.html");
            }
            else if(menuitem == "welcome")
            {
                $("#theContent").load("overview/Fission__Specifications.html");
            }
            else if(menuitem == "submission")
            {
                $("#theContent").load("content/submission.html");
            }
        });
    }
</script>

<!-- Footer -->
<footer class="footer" role="contentinfo">
    <div class="container">
        <hr />
        <p class="pull-left">
            Inspired by Joomla Protostar
        </p>
        <p class="pull-right">
            <a href="#top" id="back-top">
                Back to Top				</a>
        </p>

    </div>
</footer>
</body>
</html>
